<!--
  Generated template for the AddDealPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Add New Loyalty</ion-title>
  </ion-navbar>
</ion-header>


<ion-content>



  <form [formGroup]="rForm" novalidate>
    <ion-list no-lines>

      <ion-item>
        <ion-label stacked color="primary">Loyalty Name</ion-label>
        <ion-input name="name" placeholder="Loyalty Name Here" type="text" formControlName="name" required>
        </ion-input>
      </ion-item>
      <p *ngIf="!rForm.controls['name'].valid && rForm.controls['name'].touched" ion-text color="danger" padding-left>
        Loyalty Name is required </p>
      
      

      <ion-item>
      <ion-label stacked color="primary">Description</ion-label>
        <ion-textarea rows="5" maxLength="500" formControlName="description"></ion-textarea>
      </ion-item>
      <p *ngIf="!rForm.controls['description'].valid && rForm.controls['description'].touched" ion-text color="danger" padding-left>
          Please  enter description  </p>

      <ion-item>
        <ion-label stacked color="primary">No of Stamp</ion-label>
        <ion-input name="loyalty_no" placeholder="No of stump here" type="number" formControlName="loyalty_no" required>
        </ion-input>
      </ion-item>
      <p *ngIf="!rForm.controls['loyalty_no'].valid && rForm.controls['loyalty_no'].touched" ion-text color="danger" padding-left>
        No of stump is required </p>




    <ion-item>
      <ion-label stacked color="primary">Start Date</ion-label>
      <ion-input name="date"  type="date" formControlName="start_date" required>
      </ion-input>
    </ion-item>
    <p *ngIf="!rForm.controls['start_date'].valid && rForm.controls['start_date'].touched" ion-text color="danger" padding-left>
      Please  enter start date  </p>
    <!-- <p ion-text color="danger" padding-left>	Password is required </p> -->

    <ion-item>
      <ion-label stacked color="primary">Expiry Date</ion-label>
      <ion-input name="date"  type="date" formControlName="end_date" required>
      </ion-input>
    </ion-item>
    <p *ngIf="!rForm.controls['end_date'].valid && rForm.controls['end_date'].touched" ion-text color="danger" padding-left>
      Please  enter expiry date  </p>



      <ion-item>
        <p class="upload-text">Loyalty Image</p>
        <button ion-button block class="upload-image" color="light" (click)="presentActionSheet()">Upload Image</button>
      </ion-item>
      <ion-item *ngIf="pathForImage(lastImage)!= ''">
        <h4>Image Preview</h4>
        <img src="{{pathForImage(lastImage)}}"  alt="Ionic File" width="300" />
      </ion-item>

      
      
      <ion-item>
        <button ion-button class="sign-in-btn" (click)="onSubmit(rForm.value)" type="submit" block>Save Shop</button>
      </ion-item>
      
  
    </ion-list>
  
    
  </form>

</ion-content>
