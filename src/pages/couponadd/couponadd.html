<!--
  Generated template for the AddDealPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Add New Coupon</ion-title>
  </ion-navbar>
</ion-header>


<ion-content>

  <form [formGroup]="rForm" novalidate>
    <ion-list no-lines>
      <ion-item>
        <ion-label stacked color="primary">Coupon Name</ion-label>
        <ion-input name="name" placeholder="Coupon Name Here" type="text" formControlName="name" required>
        </ion-input>
      </ion-item>
      <p *ngIf="!rForm.controls['name'].valid && rForm.controls['name'].touched" ion-text color="danger" padding-left>
          Coupon Name is required </p>
      
  
      <ion-item>
        <ion-label stacked color="primary">Shop</ion-label>
        <ion-select formControlName="shop_id" required>
          <ion-option  selected="true" >Select</ion-option>
          <ion-option value="{{s.shop_id}}" *ngFor="let s of shoplist">{{s.shop_name}}</ion-option>
          
        </ion-select>
        
      </ion-item>
      <p *ngIf="!rForm.controls['shop_id'].valid && rForm.controls['shop_id'].touched" ion-text color="danger" padding-left>
        Please  select shop  </p>
      <!-- <p ion-text color="danger" padding-left> Password is required	</p> -->
  
      <ion-item>
        <ion-label stacked color="primary">Categories</ion-label>
        <ion-select formControlName="category_id">
          <ion-option selected="true" >Select Categories</ion-option>
          <ion-option value="{{c.category_id}}" *ngFor="let c of categorylist">{{c.category_name}}</ion-option>
          
        </ion-select>
      </ion-item>
      <p *ngIf="!rForm.controls['category_id'].valid && rForm.controls['category_id'].touched" ion-text color="danger" padding-left>
          Please  select category  </p>
      <!-- <p ion-text color="danger" padding-left> Password is required </p> -->
  
      <ion-item>
        <ion-label stacked color="primary">City/Location</ion-label>
        <ion-select formControlName="city_id">
          <ion-option selected="true" >Select</ion-option>
          <ion-option value="{{l.city_id}}" *ngFor="let l of citylist">{{l.city_name}}</ion-option>
          
        </ion-select>
      </ion-item>
      <p *ngIf="!rForm.controls['city_id'].valid && rForm.controls['city_id'].touched" ion-text color="danger" padding-left>
          Please  select city  </p>
      <!-- <p ion-text color="danger" padding-left> Password is required </p> -->
  
      <ion-item>
        <ion-label stacked color="primary" >Coupon Price</ion-label>
        <ion-input name="deal price" placeholder="Coupon Price Here" type="text" formControlName="amount">
        </ion-input>
      </ion-item>
      <p *ngIf="!rForm.controls['amount'].valid && rForm.controls['amount'].touched" ion-text color="danger" padding-left>
          Please  enter price  </p>
      <!-- <p ion-text color="danger" padding-left>	Password is required </p> -->
  
      <ion-item>
        <ion-label stacked color="primary">Coupon Offer</ion-label>
        <ion-input name="Coupon Offer" placeholder="offer % Here" formControlName="offer" type="text" required>
        </ion-input>
      </ion-item>
      <p *ngIf="!rForm.controls['offer'].valid && rForm.controls['offer'].touched" ion-text color="danger" padding-left>
          Please  enter offer  </p>
      <!-- <p ion-text color="danger" padding-left> Password is required	</p> -->
      
      <ion-item>
        <ion-label stacked color="primary">Coupon No</ion-label>
        <ion-input name="Coupon Offer" placeholder="Coupon no Here" formControlName="coupon_no" type="number" required>
        </ion-input>
      </ion-item>
      <p *ngIf="!rForm.controls['coupon_no'].valid && rForm.controls['coupon_no'].touched" ion-text color="danger" padding-left>
          Please  enter coupon no  </p>

      <ion-item>
      <ion-label stacked color="primary">Description</ion-label>
        <ion-textarea rows="5" maxLength="500" formControlName="description"></ion-textarea>
      </ion-item>
      <p *ngIf="!rForm.controls['description'].valid && rForm.controls['description'].touched" ion-text color="danger" padding-left>
          Please  enter description  </p>
      <ion-item>
        <ion-label stacked color="primary">Start Date</ion-label>
        <ion-input name="date"  type="date" formControlName="from_date" required>
        </ion-input>
      </ion-item>
      <p *ngIf="!rForm.controls['from_date'].valid && rForm.controls['from_date'].touched" ion-text color="danger" padding-left>
        Please  enter start date  </p>
      <!-- <p ion-text color="danger" padding-left>	Password is required </p> -->
  
      <ion-item>
        <ion-label stacked color="primary">Expiry Date</ion-label>
        <ion-input name="date"  type="date" formControlName="to_date" required>
        </ion-input>
      </ion-item>
      <p *ngIf="!rForm.controls['to_date'].valid && rForm.controls['to_date'].touched" ion-text color="danger" padding-left>
        Please  enter expiry date  </p>
      <!-- <p ion-text color="danger" padding-left>	Password is required </p> -->

      <ion-item>
        <ion-label stacked color="primary">Type</ion-label>
        <ion-select formControlName="type">
          <ion-option selected="true" >Select</ion-option>
          <ion-option value="O">Online use</ion-option>
          <ion-option value="S">Store use</ion-option>
          
        </ion-select>
      </ion-item>
      <p *ngIf="!rForm.controls['type'].valid && rForm.controls['type'].touched" ion-text color="danger" padding-left>
        Please  select type  </p>
      <ion-item>
        <button ion-button class="sign-in-btn" (click)="onSubmit(rForm.value)" type="submit" block>Save coupon</button>
      </ion-item>
      
  
    </ion-list>
  
    
  </form>

</ion-content>
